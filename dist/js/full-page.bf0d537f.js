"use strict";(self["webpackChunkcoffe_management_system"]=self["webpackChunkcoffe_management_system"]||[]).push([[543],{7516:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("section",{staticClass:"section hero is-fullheight is-error-section"},[t("div",{staticClass:"hero-body"},[t("div",{staticClass:"container"},[t("div",{staticClass:"columns is-centered"},[t("div",{staticClass:"column is-two-fifths"},[t("router-view")],1)])])]),e._m(0)])},o=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"hero-foot has-text-centered"},[t("div",{staticClass:"logo"})])}],l=a(144),r=(0,l.aZ)({name:"FullPageView",created(){this.$store.dispatch("toggleFullPage",!0)},beforeDestroy(){this.$store.dispatch("toggleFullPage",!1)}}),n=r,i=a(1001),u=(0,i.Z)(n,s,o,!1,null,null,null),c=u.exports},1011:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var s=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.CardComponent,{attrs:{title:"Login",icon:"lock"}},[t("router-link",{staticClass:"button is-small",attrs:{slot:"button",to:"/"},slot:"button"},[e._v(" Dashboard ")]),t("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),a.login.apply(null,arguments)}}},[t("b-field",{attrs:{label:"Username"}},[t("b-input",{attrs:{name:"username",type:"username",required:""},model:{value:a.form.username,callback:function(t){e.$set(a.form,"username",t)},expression:"form.username"}})],1),t("b-field",{attrs:{label:"Password"}},[t("b-input",{attrs:{type:"password",name:"password",required:""},model:{value:a.form.password,callback:function(t){e.$set(a.form,"password",t)},expression:"form.password"}})],1),t("b-field",[a.checkLogin?t("div",{staticClass:"alert alert-danger",staticStyle:{color:"red"}},[e._v(" Username or password is wrong ! ")]):e._e()]),t("hr"),t("b-field",{attrs:{grouped:""}},[t("div",{staticClass:"control"},[t("b-button",{attrs:{"native-type":"submit",type:"is-black",loading:a.isLoading}},[e._v(" Login ")])],1)])],1)],1)},o=[],l=(a(7658),a(144)),r=a(9669),n=a.n(r),i=a(2248),u=a(7311),c=a(6125),d={__name:"LoginView",setup(e){const t=(0,l.iH)(!1),a=(0,l.iH)(!1),s=(0,l.iH)(""),o=(0,l.iH)(""),r=(0,l.iH)({username:"",password:""}),d=()=>{a.value=!0,setTimeout((()=>{n().post(c._+"/auth/login",{username:r.value.username,password:r.value.password}).then((e=>{s.value=e.data.data.accessToken,o.value=e.data.data.role,console.log(o.value),1e3!==e.data.status.code?(console.log("Login fail !"),t.value=!0,a.value=!1):(o.value,localStorage.setItem("token",s.value),localStorage.setItem("username",e.data.data.username),localStorage.setItem("name",e.data.data.name),localStorage.setItem("role",e.data.data.role),localStorage.setItem("employeeId",e.data.data.employeeId),a.value=!1,u.Z.push("/home"))}))}),750)};return{__sfc:!0,checkLogin:t,isLoading:a,token:s,role:o,form:r,login:d,CardComponent:i.Z}}},m=d,f=a(1001),p=(0,f.Z)(m,s,o,!1,null,null,null),g=p.exports}}]);
//# sourceMappingURL=full-page.bf0d537f.js.map